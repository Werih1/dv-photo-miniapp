<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>DV Photo Check</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #ffffff;
            color: #333;
            overflow: hidden;
        }

        /* ===== SPLASH SCREEN WITH LANGUAGE SELECTION ===== */
        .splash {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
        }

        .splash.hidden {
            display: none;
        }

        .splash-content {
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .splash-logo {
            width: 180px;
            height: 180px;
            object-fit: contain;
            filter: drop-shadow(0 4px 12px rgba(0,0,0,0.15));
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .splash-title {
            font-size: 28px;
            font-weight: bold;
            color: white;
        }

        .splash-subtitle {
            font-size: 15px;
            color: rgba(255,255,255,0.9);
            height: 20px;
            min-height: 20px;
            font-weight: 500;
        }

        .language-selector-splash {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }

        .lang-btn-splash {
            width: 56px;
            height: 56px;
            border: 3px solid white;
            border-radius: 12px;
            background: rgba(255,255,255,0.2);
            cursor: pointer;
            font-size: 24px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .lang-btn-splash:active {
            transform: scale(1.1);
            background: rgba(255,255,255,0.4);
            box-shadow: 0 0 20px rgba(255,255,255,0.5);
        }

        /* ===== MAIN APP ===== */
        .app {
            display: none;
            width: 100%;
            height: 100%;
            flex-direction: column;
            overflow: hidden;
        }

        .app.active {
            display: flex;
        }

        /* ===== TABS ===== */
        .tabs {
            display: flex;
            gap: 0;
            width: 100%;
            border-bottom: 2px solid #e0e0e0;
            background: white;
            padding: 0;
            position: sticky;
            top: 0;
            z-index: 100;
            overflow-x: auto;
            overflow-y: hidden;
        }

        .tab {
            flex: 1;
            min-width: 80px;
            padding: 14px 12px;
            border: none;
            background: white;
            color: #999;
            font-size: 11px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            text-transform: uppercase;
            letter-spacing: 0.3px;
            white-space: nowrap;
        }

        .tab.active {
            color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        }

        /* ===== TAB CONTENT ===== */
        .tab-content {
            display: none;
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            -webkit-overflow-scrolling: touch;
        }

        .tab-content.active {
            display: flex;
            flex-direction: column;
        }

        /* ===== HOME TAB ===== */
        .header {
            text-align: center;
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 12px;
        }

        .attempts-badge {
            display: inline-block;
            padding: 8px 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .upload-section {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
        }

        .button {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            -webkit-appearance: none;
            appearance: none;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:active {
            transform: scale(0.98);
            opacity: 0.9;
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }

        .btn-secondary:active {
            background: #e0e0e0;
        }

        /* ===== NEWS SECTION ===== */
        .news-section {
            margin-top: 20px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 12px;
            padding: 16px;
            border-left: 4px solid #667eea;
        }

        .news-title {
            font-weight: 600;
            margin-bottom: 12px;
            color: #667eea;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .news-item {
            background: white;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 13px;
            line-height: 1.6;
            border-left: 3px solid #667eea;
        }

        .news-date {
            font-size: 11px;
            color: #999;
            margin-top: 6px;
        }

        /* ===== NEWS TAB FULL ===== */
        .news-full-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .news-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .news-card-date {
            font-size: 12px;
            color: #667eea;
            font-weight: 600;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .news-card-title {
            font-size: 15px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .news-card-text {
            font-size: 13px;
            line-height: 1.6;
            color: #555;
        }

        /* ===== PRICING ===== */
        .pricing-section {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .promo-input-group {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .promo-input-group input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            color: #333;
        }

        .promo-input-group button {
            padding: 12px 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .promo-input-group button:active {
            transform: scale(0.95);
        }

        .pricing-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .pricing-card:active {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .pricing-name {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .pricing-attempts {
            font-size: 13px;
            color: #667eea;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .pricing-price {
            font-size: 20px;
            font-weight: 700;
            color: #667eea;
        }

        /* ===== INSTRUCTIONS ===== */
        .instructions {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .instruction-block {
            background: white;
            border-radius: 12px;
            padding: 16px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .instruction-block h3 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #333;
        }

        .instruction-block ol,
        .instruction-block ul {
            margin-left: 16px;
            font-size: 13px;
            line-height: 1.8;
            color: #555;
        }

        .instruction-block li {
            margin-bottom: 6px;
        }

        /* ===== SCROLLBAR ===== */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: #ddd;
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #999;
        }
    </style>
</head>
<body>
    <!-- SPLASH SCREEN WITH LANGUAGE SELECTION -->
    <div class="splash" id="splashScreen">
        <div class="splash-content">
            <img src="images/dv-lottery-logo.jpg" alt="DV Lottery" class="splash-logo">
            <div class="splash-title">DV Photo Validator</div>
            <div class="splash-subtitle" id="splashSubtitle">–í—ã–±–µ—Ä–µ—Ç–µ —è–∑—ã–∫</div>
            <div class="language-selector-splash">
                <button class="lang-btn-splash" data-lang="ru" title="–†—É—Å—Å–∫–∏–π">üá∑üá∫</button>
                <button class="lang-btn-splash" data-lang="en" title="English">üá¨üáß</button>
                <button class="lang-btn-splash" data-lang="fr" title="Fran√ßais">üá´üá∑</button>
                <button class="lang-btn-splash" data-lang="ar" title="ÿßŸÑÿπÿ±ÿ®Ÿäÿ©">üá∏üá¶</button>
            </div>
        </div>
    </div>

    <!-- MAIN APP -->
    <div class="app" id="mainApp">
        <!-- TABS -->
        <div class="tabs">
            <button class="tab active" data-tab="home">–ì–õ–ê–í–ù–ê–Ø</button>
            <button class="tab" data-tab="news">–ù–û–í–û–°–¢–ò</button>
            <button class="tab" data-tab="pricing">–¢–ê–†–ò–§–´</button>
            <button class="tab" data-tab="instructions">–¢–†–ï–ë–û–í–ê–ù–ò–Ø</button>
        </div>

        <!-- HOME TAB -->
        <div class="tab-content active" id="homeTab">
            <div class="header">
                <h1 id="homeTitle">DV Photo Check</h1>
                <div class="attempts-badge"><span id="attemptsLabel">–ü–æ–ø—ã—Ç–æ–∫:</span> <span id="attemptsCount">3</span></div>
            </div>

            <div class="upload-section">
                <button class="button btn-primary" id="uploadBtn">üì∏ –ó–ê–ì–†–£–ó–ò–¢–¨ –§–û–¢–û</button>
            </div>

            <input type="file" id="photoInput" accept="image/*" style="display: none;">
        </div>

        <!-- NEWS TAB -->
        <div class="tab-content" id="newsTab">
            <div class="news-full-container" id="newsFullList"></div>
        </div>

        <!-- PRICING TAB -->
        <div class="tab-content" id="pricingTab">
            <div class="promo-input-group">
                <input type="text" id="promoCode" placeholder="GIFT2026" autocomplete="off">
                <button id="applyPromoBtn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            </div>

            <div class="pricing-section" id="pricingList"></div>
        </div>

        <!-- INSTRUCTIONS TAB -->
        <div class="tab-content" id="instructionsTab">
            <div class="instructions" id="instructionsList"></div>
        </div>
    </div>

    <script>
        // ===== MULTILINGUAL CONTENT DATABASE =====
        const CONTENT = {
            ru: {
                selectLanguage: '–í—ã–±–µ—Ä–µ—Ç–µ —è–∑—ã–∫',
                title: 'DV Photo Validator',
                attempts_label: '–ü–æ–ø—ã—Ç–æ–∫:',
                btn_upload: 'üì∏ –ó–ê–ì–†–£–ó–ò–¢–¨ –§–û–¢–û',
                tab_home: '–ì–õ–ê–í–ù–ê–Ø',
                tab_news: '–ù–û–í–û–°–¢–ò',
                tab_pricing: '–¢–ê–†–ò–§–´',
                tab_instructions: '–¢–†–ï–ë–û–í–ê–ù–ò–Ø',
                btn_apply: '–ü—Ä–∏–º–µ–Ω–∏—Ç—å',
                promo_placeholder: 'GIFT2026',
                promo_success: '‚úì –ü—Ä–æ–º–æ–∫–æ–¥ –ø—Ä–∏–Ω—è—Ç! +5 –ø–æ–ø—ã—Ç–æ–∫',
                promo_invalid: '‚úó –ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥',
                upload_success: '‚úÖ –§–æ—Ç–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ!',
                news: [
                    { date: '27.11.2025', title: '–ù–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ', text: '–£–ª—É—á—à–µ–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 4 —è–∑—ã–∫–æ–≤' },
                    { date: '26.11.2025', title: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤', text: '–¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –†—É—Å—Å–∫–æ–º, –ê–Ω–≥–ª–∏–π—Å–∫–æ–º, –§—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–º –∏ –ê—Ä–∞–±—Å–∫–æ–º —è–∑—ã–∫–∞—Ö' },
                    { date: '25.11.2025', title: '–ü—Ä–æ–º–æ–∫–æ–¥ GIFT2026', text: '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥ GIFT2026 –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è +5 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫' }
                ],
                pricing: [
                    { name: '–°–æ–ª–æ Plan', attempts: '10 –ø–æ–ø—ã—Ç–æ–∫', price: '99 ‚≠ê' },
                    { name: '–°–µ–º–µ–π–Ω—ã–π DV', attempts: '30 –ø–æ–ø—ã—Ç–æ–∫', price: '249 ‚≠ê' },
                    { name: 'Agency PRO', attempts: '–ë–µ–∑–ª–∏–º–∏—Ç', price: '2499 ‚≠ê' }
                ],
                requirements: [
                    {
                        title: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è',
                        items: ['–†–∞–∑–º–µ—Ä: 600x600 –ø–∏–∫—Å–µ–ª–µ–π', '–§–æ—Ä–º–∞—Ç: JPEG', '–ú–∞–∫—Å–∏–º—É–º: 240 –ö–ë', '–¶–≤–µ—Ç–æ–≤–∞—è –≥–ª—É–±–∏–Ω–∞: 24-–±–∏—Ç']
                    },
                    {
                        title: '–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–æ—Ç–æ',
                        items: ['–ù–µ —Å—Ç–∞—Ä—à–µ 6 –º–µ—Å—è—Ü–µ–≤', '–û–¥–Ω–æ—Ç–æ–Ω–Ω—ã–π –±–µ–ª—ã–π —Ñ–æ–Ω', '–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ª–∏—Ü–∞', '–ì–ª–∞–∑–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫—Ä—ã—Ç—ã', '–ë–µ–∑ –æ—á–∫–æ–≤ –∏ –≥–æ–ª–æ–≤–Ω—ã—Ö —É–±–æ—Ä–æ–≤']
                    }
                ]
            },
            en: {
                selectLanguage: 'Select language',
                title: 'DV Photo Validator',
                attempts_label: 'Attempts:',
                btn_upload: 'üì∏ UPLOAD PHOTO',
                tab_home: 'HOME',
                tab_news: 'NEWS',
                tab_pricing: 'PRICING',
                tab_instructions: 'REQUIREMENTS',
                btn_apply: 'Apply',
                promo_placeholder: 'GIFT2026',
                promo_success: '‚úì Promo code accepted! +5 attempts',
                promo_invalid: '‚úó Invalid promo code',
                upload_success: '‚úÖ Photo uploaded!',
                news: [
                    { date: '27.11.2025', title: 'New Update', text: 'Improved face detection accuracy and added support for 4 languages' },
                    { date: '26.11.2025', title: 'Language Support', text: 'Now available in Russian, English, French, and Arabic' },
                    { date: '25.11.2025', title: 'Promo Code GIFT2026', text: 'Use promo code GIFT2026 to get +5 additional attempts' }
                ],
                pricing: [
                    { name: 'Solo Plan', attempts: '10 attempts', price: '99 ‚≠ê' },
                    { name: 'Family DV', attempts: '30 attempts', price: '249 ‚≠ê' },
                    { name: 'Agency PRO', attempts: 'Unlimited', price: '2499 ‚≠ê' }
                ],
                requirements: [
                    {
                        title: 'Technical Requirements',
                        items: ['Size: 600x600 pixels', 'Format: JPEG', 'Maximum: 240 KB', 'Color depth: 24-bit']
                    },
                    {
                        title: 'Photo Requirements',
                        items: ['Not older than 6 months', 'Plain white background', 'Neutral facial expression', 'Eyes fully open', 'No glasses or headwear']
                    }
                ]
            },
            fr: {
                selectLanguage: 'Choisir la langue',
                title: 'Validateur Photo DV',
                attempts_label: 'Tentatives:',
                btn_upload: 'üì∏ T√âL√âCHARGER',
                tab_home: 'ACCUEIL',
                tab_news: 'ACTUALIT√âS',
                tab_pricing: 'TARIFS',
                tab_instructions: 'CONDITIONS',
                btn_apply: 'Appliquer',
                promo_placeholder: 'GIFT2026',
                promo_success: '‚úì Code promo accept√©! +5 tentatives',
                promo_invalid: '‚úó Code promo invalide',
                upload_success: '‚úÖ Photo t√©l√©charg√©e!',
                news: [
                    { date: '27.11.2025', title: 'Nouvelle mise √† jour', text: 'Pr√©cision am√©lior√©e de la d√©tection des visages et support de 4 langues' },
                    { date: '26.11.2025', title: 'Support multilingue', text: 'Maintenant disponible en russe, anglais, fran√ßais et arabe' },
                    { date: '25.11.2025', title: 'Code promo GIFT2026', text: 'Utilisez le code promo GIFT2026 pour obtenir +5 tentatives suppl√©mentaires' }
                ],
                pricing: [
                    { name: 'Plan Solo', attempts: '10 tentatives', price: '99 ‚≠ê' },
                    { name: 'Famille DV', attempts: '30 tentatives', price: '249 ‚≠ê' },
                    { name: 'Agence PRO', attempts: 'Illimit√©', price: '2499 ‚≠ê' }
                ],
                requirements: [
                    {
                        title: 'Conditions techniques',
                        items: ['Taille: 600x600 pixels', 'Format: JPEG', 'Maximum: 240 KB', 'Profondeur de couleur: 24-bit']
                    },
                    {
                        title: 'Conditions de photo',
                        items: ['Pas plus de 6 mois', 'Fond blanc uni', 'Expression faciale neutre', 'Yeux compl√®tement ouverts', 'Sans lunettes ni couvre-chef']
                    }
                ]
            },
            ar: {
                selectLanguage: 'ÿßÿÆÿ™ÿ± ÿßŸÑŸÑÿ∫ÿ©',
                title: 'ŸÖÿØŸÇŸÇ ÿµŸàÿ± ÿßŸÑÿ¨ŸÜÿ≥Ÿäÿ©',
                attempts_label: 'ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿßÿ™:',
                btn_upload: 'üì∏ ÿ™ÿ≠ŸÖŸäŸÑ ÿµŸàÿ±ÿ©',
                tab_home: 'ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©',
                tab_news: 'ÿßŸÑÿ£ÿÆÿ®ÿßÿ±',
                tab_pricing: 'ÿßŸÑÿ£ÿ≥ÿπÿßÿ±',
                tab_instructions: 'ÿßŸÑŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™',
                btn_apply: 'ÿ™ÿ∑ÿ®ŸäŸÇ',
                promo_placeholder: 'GIFT2026',
                promo_success: '‚úì ÿ™ŸÖ ŸÇÿ®ŸàŸÑ ÿ±ŸÖÿ≤ ÿßŸÑÿ™ÿ±ŸàŸäÿ¨! +5 ŸÖÿ≠ÿßŸàŸÑÿßÿ™',
                promo_invalid: '‚úó ÿ±ŸÖÿ≤ ÿ™ÿ±ŸàŸäÿ¨ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠',
                upload_success: '‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸàÿ±ÿ©!',
                news: [
                    { date: '27.11.2025', title: 'ÿ™ÿ≠ÿØŸäÿ´ ÿ¨ÿØŸäÿØ', text: 'ÿ™ÿ≠ÿ≥ŸäŸÜ ÿØŸÇÿ© ŸÉÿ¥ŸÅ ÿßŸÑŸàÿ¨ŸàŸá Ÿàÿ•ÿ∂ÿßŸÅÿ© ÿØÿπŸÖ 4 ŸÑÿ∫ÿßÿ™' },
                    { date: '26.11.2025', title: 'ÿØÿπŸÖ ŸÖÿ™ÿπÿØÿØ ÿßŸÑŸÑÿ∫ÿßÿ™', text: 'ŸÖÿ™ÿßÿ≠ ÿßŸÑÿ¢ŸÜ ÿ®ÿßŸÑŸÑÿ∫ÿßÿ™ ÿßŸÑÿ±Ÿàÿ≥Ÿäÿ© ŸàÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ© ŸàÿßŸÑŸÅÿ±ŸÜÿ≥Ÿäÿ© ŸàÿßŸÑÿπÿ±ÿ®Ÿäÿ©' },
                    { date: '25.11.2025', title: 'ÿ±ŸÖÿ≤ GIFT2026', text: 'ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ±ŸÖÿ≤ GIFT2026 ŸÑŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ +5 ŸÖÿ≠ÿßŸàŸÑÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ©' }
                ],
                pricing: [
                    { name: 'ÿÆÿ∑ÿ© ÿ≥ŸàŸÑŸà', attempts: '10 ŸÖÿ≠ÿßŸàŸÑÿßÿ™', price: '99 ‚≠ê' },
                    { name: 'ÿπÿßÿ¶ŸÑÿ© DV', attempts: '30 ŸÖÿ≠ÿßŸàŸÑÿ©', price: '249 ‚≠ê' },
                    { name: 'ŸàŸÉÿßŸÑÿ© PRO', attempts: 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØŸàÿØ', price: '2499 ‚≠ê' }
                ],
                requirements: [
                    {
                        title: 'ÿßŸÑŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑÿ™ŸÇŸÜŸäÿ©',
                        items: ['ÿßŸÑÿ≠ÿ¨ŸÖ: 600x600 ÿ®ŸÉÿ≥ŸÑ', 'ÿßŸÑÿµŸäÿ∫ÿ©: JPEG', 'ÿßŸÑÿ≠ÿØ ÿßŸÑÿ£ŸÇÿµŸâ: 240 ŸÉŸäŸÑŸàÿ®ÿßŸäÿ™', 'ÿπŸÖŸÇ ÿßŸÑŸÑŸàŸÜ: 24 ÿ®ÿ™']
                    },
                    {
                        title: 'ŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑÿµŸàÿ±ÿ©',
                        items: ['ŸÑŸäÿ≥ ÿ£ŸÉÿ´ÿ± ŸÖŸÜ 6 ÿ£ÿ¥Ÿáÿ±', 'ÿÆŸÑŸÅŸäÿ© ÿ®Ÿäÿ∂ÿßÿ° ŸÖŸàÿ≠ÿØÿ©', 'ÿ™ÿπÿ®Ÿäÿ± Ÿàÿ¨Ÿá ŸÖÿ≠ÿßŸäÿØ', 'ÿßŸÑÿπŸäŸàŸÜ ŸÖŸÅÿ™Ÿàÿ≠ÿ© ÿ®ÿßŸÑŸÉÿßŸÖŸÑ', 'ÿ®ÿØŸàŸÜ ŸÜÿ∏ÿßÿ±ÿßÿ™ ÿ£Ÿà ÿ∫ÿ∑ÿßÿ° ÿßŸÑÿ±ÿ£ÿ≥']
                    }
                ]
            }
        };

        // ===== APP STATE =====
        let appState = {
            currentLang: null,
            attempts: 3,
            isAdmin: false,
            languageSelected: false
        };

        // ===== ANIMATION FOR LANGUAGE SELECTION =====
        const LANGUAGES = ['ru', 'en', 'fr', 'ar'];
        let currentLangIndex = 0;
        let animationInterval = null;

        // ===== INITIALIZATION =====
        window.addEventListener('load', () => {
            initApp();
        });

        function initApp() {
            if (window.Telegram?.WebApp) {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
            }

            setupEventListeners();
            startLanguageAnimation();
        }

        function startLanguageAnimation() {
            const subtitleEl = document.getElementById('splashSubtitle');
            
            animationInterval = setInterval(() => {
                currentLangIndex = (currentLangIndex + 1) % LANGUAGES.length;
                const lang = LANGUAGES[currentLangIndex];
                subtitleEl.style.opacity = '0.5';
                
                setTimeout(() => {
                    subtitleEl.textContent = CONTENT[lang].selectLanguage;
                    subtitleEl.style.opacity = '1';
                }, 150);
            }, 2000);
        }

        function setupEventListeners() {
            // Language selection buttons
            document.querySelectorAll('.lang-btn-splash').forEach(btn => {
                btn.addEventListener('click', () => {
                    selectLanguage(btn.dataset.lang);
                });
            });

            // Tab switching
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    switchTab(tab.dataset.tab);
                });
            });

            // Upload
            document.getElementById('uploadBtn').addEventListener('click', () => {
                document.getElementById('photoInput').click();
            });

            document.getElementById('photoInput').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    alert(CONTENT[appState.currentLang].upload_success);
                    appState.attempts--;
                    document.getElementById('attemptsCount').textContent = appState.attempts;
                }
            });

            document.getElementById('applyPromoBtn').addEventListener('click', applyPromoCode);
        }

        function selectLanguage(lang) {
            if (animationInterval) clearInterval(animationInterval);
            
            appState.currentLang = lang;
            appState.languageSelected = true;
            
            // Hide splash and show app
            setTimeout(() => {
                document.getElementById('splashScreen').classList.add('hidden');
                document.getElementById('mainApp').classList.add('active');
                
                // Update all content
                updateAllContent();
                populateAllContent();
            }, 300);
        }

        function updateAllContent() {
            const content = CONTENT[appState.currentLang];
            
            // Update buttons and labels
            document.getElementById('homeTitle').textContent = content.title;
            document.getElementById('attemptsLabel').textContent = content.attempts_label;
            document.getElementById('uploadBtn').textContent = content.btn_upload;
            document.getElementById('promoCode').placeholder = content.promo_placeholder;
            document.getElementById('applyPromoBtn').textContent = content.btn_apply;
            
            // Update tabs
            document.querySelectorAll('.tab').forEach(tab => {
                const tabName = tab.dataset.tab;
                const key = 'tab_' + tabName;
                if (content[key]) tab.textContent = content[key];
            });

            // Set RTL for Arabic
            if (appState.currentLang === 'ar') {
                document.documentElement.setAttribute('dir', 'rtl');
                document.documentElement.lang = 'ar';
            } else {
                document.documentElement.removeAttribute('dir');
                document.documentElement.lang = appState.currentLang;
            }
        }

        function populateAllContent() {
            populateNews();
            populatePricing();
            populateInstructions();
        }

        function populateNews() {
            const content = CONTENT[appState.currentLang];
            const list = document.getElementById('newsFullList');
            
            list.innerHTML = content.news.map(n => `
                <div class="news-card">
                    <div class="news-card-date">${n.date}</div>
                    <div class="news-card-title">${n.title}</div>
                    <div class="news-card-text">${n.text}</div>
                </div>
            `).join('');
        }

        function populatePricing() {
            const content = CONTENT[appState.currentLang];
            const list = document.getElementById('pricingList');
            
            list.innerHTML = content.pricing.map(p => `
                <div class="pricing-card">
                    <div class="pricing-name">${p.name}</div>
                    <div class="pricing-attempts">${p.attempts}</div>
                    <div class="pricing-price">${p.price}</div>
                </div>
            `).join('');
        }

        function populateInstructions() {
            const content = CONTENT[appState.currentLang];
            const list = document.getElementById('instructionsList');
            
            list.innerHTML = content.requirements.map(r => `
                <div class="instruction-block">
                    <h3>${r.title}</h3>
                    <ol>${r.items.map(i => `<li>${i}</li>`).join('')}</ol>
                </div>
            `).join('');
        }

        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));

            document.getElementById(tabName + 'Tab').classList.add('active');
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
        }

        function applyPromoCode() {
            const code = document.getElementById('promoCode').value.toUpperCase();
            const content = CONTENT[appState.currentLang];
            
            if (code === 'GIFT2026') {
                appState.attempts += 5;
                document.getElementById('attemptsCount').textContent = appState.attempts;
                alert(content.promo_success);
                document.getElementById('promoCode').value = '';
            } else {
                alert(content.promo_invalid);
            }
        }

        // Add CSS for smooth transitions
        const style = document.createElement('style');
        style.textContent = `
            #splashSubtitle {
                transition: opacity 0.3s ease;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>



